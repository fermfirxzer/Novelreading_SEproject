version: '3' # กำหนด docker version
services:
  novel--app: # ตั้งชื่อ container (เหมือน --name)
    build: . # ตำแหน่ง dockerfile
    ports:
      - "3001:3000" #map port ออกมา เหมือน -p ใน docker run
    depends_on:
      - db
  # db:
  #   image: mysql:latest
  #   container_name: db
  #   command: --default-authentication-plugin=mysql_native_password
  #   environment:
  #     MYSQL_DATABASE: novelreading
  #   ports:
  #     - "3307:3307"
  # phpmyadmin:
  #   image: phpmyadmin/phpmyadmin:latest
  #   container_name: phpmyadmin
  #   environment:
  #     PMA_HOST: db # ระบุ host ที่จะให้ phpmyadmin ไปจัดการ ซึ่งสามารถใส่เป็นชื่อ container name (db) ได้เลย
  #     PMA_PORT: 3307 # ระบุ port ของ Database
  #     PMA_USER: root # ระบุ user ของ Database
  #     PMA_PASSWORD:  # ระบุ password ของ Database
  #   ports:
  #     - "8080:8080"
  #   depends_on:
  #     - db